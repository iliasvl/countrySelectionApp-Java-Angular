<div class="register-container">
  <h2>Register</h2>
  <form (ngSubmit)="onRegister()" #registerForm="ngForm">
    <div>
      <label for="firstname">Firstname: <span class="required">*</span></label>
      <input id="firstname" type="text" [(ngModel)]="firstname" name="firstname" required #firstnameInput="ngModel">
      <p *ngIf="firstnameInput.invalid && firstnameInput.touched" class="error">Firstname is required.</p>
    </div>

    <div>
      <label for="lastname">Lastname: <span class="required">*</span></label>
      <input id="lastname" type="text" [(ngModel)]="lastname" name="lastname" required #lastnameInput="ngModel">
      <p *ngIf="lastnameInput.invalid && lastnameInput.touched" class="error">Lastname is required.</p>
    </div>

    <div>
      <label for="username">Username (Email): <span class="required">*</span></label>
      <input type="email" id="username" [(ngModel)]="username" name="username" required email #usernameInput="ngModel">
      <p *ngIf="usernameInput.invalid && usernameInput.touched" class="error">Valid email is required.</p>
      <p *ngIf="usernameInput.errors?.['email'] && usernameInput.touched" class="error">Invalid email format.</p>
    </div>

    <div>
      <label for="password">Password: <span class="required">*</span></label>
      <input id="password" type="password" [(ngModel)]="password" name="password" required #passwordInput="ngModel">
      <p *ngIf="passwordInput.invalid && passwordInput.touched" class="error">Password is required.</p>
    </div>

    <div>
      <label for="dateOfBirth">Date of Birth: <span class="required">*</span></label>
      <input id="dateOfBirth" type="date" [(ngModel)]="dateOfBirth" name="dateOfBirth" required #dobInput="ngModel">
      <p *ngIf="dobInput.invalid && dobInput.touched" class="error">Date of Birth is required.</p>
    </div>

    <div>
      <label for="gender">Gender: <span class="required">*</span></label>
      <select id="gender" [(ngModel)]="gender" name="gender" required #genderInput="ngModel">
        <option value="" disabled selected>Select gender</option>
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
      </select>
      <p *ngIf="genderInput.invalid && genderInput.touched" class="error">Gender is required.</p>
    </div>

    <div>
      <label for="role">Role: <span class="required">*</span></label>
      <select id="role" [(ngModel)]="role" name="role" required #roleInput="ngModel">
        <option value="" disabled selected>Select role</option>
        <option value="TRAVELLER">Traveller</option>
        <option value="ADMIN">Admin</option>
      </select>
      <p *ngIf="roleInput.invalid && roleInput.touched" class="error">Role is required.</p>
    </div>

    <div>
      <label for="phone">Phone: <span class="required">*</span></label>
      <input id="phone" type="text" [(ngModel)]="phone" name="phone" required #phoneInput="ngModel">
      <p *ngIf="phoneInput.invalid && phoneInput.touched" class="error">Phone number is required.</p>
    </div>

    <div>
      <label for="address">Address: <span class="required">*</span></label>
      <input id="address" type="text" [(ngModel)]="address" name="address" required #addressInput="ngModel">
      <p *ngIf="addressInput.invalid && addressInput.touched" class="error">Address is required.</p>
    </div>

    <div>
      <label for="city">City: <span class="required">*</span></label>
      <input id="city" type="text" [(ngModel)]="city" name="city" required #cityInput="ngModel">
      <p *ngIf="cityInput.invalid && cityInput.touched" class="error">City is required.</p>
    </div>

    <div>
      <label for="country">Country: <span class="required">*</span></label>
      <input id="country" type="text" [(ngModel)]="country" name="country" required #countryInput="ngModel">
      <p *ngIf="countryInput.invalid && countryInput.touched" class="error">Country is required.</p>
    </div>

    <button type="submit" [disabled]="registerForm.invalid || isSubmitting">Register</button>
  </form>

  <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>
  <p *ngIf="successMessage" class="success">{{ successMessage }}</p>

  <div>Already have an account? 
    <button (click)="goToLogin()" class="login-button">Login</button>
  </div>
</div>
